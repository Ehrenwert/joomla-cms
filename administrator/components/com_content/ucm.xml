<?xml version="1.0" encoding="utf-8" ?>
<!--
	Here we:
	- define the content types related to the current componet
	- defaine the main table and addittional tables(if need)
	- define layouts, for display the content items, for frontend and for backend
-->
<ucm component="com_content">
	<types>
		<!-- Define conetnt type -->
		<!-- Define the main Fields and possible metatada -->
		<!--
			name - content type name;
			metadata - whether use and display the form for metadata; ???
			publishoptions - display the form for Publish Options, it will used in any case,
							 just will be hiden when publishoptions="false"; ???
			permissions - whether use and display form for permissions; ???
			table - table where store the main fields, can be omitted, default is #__ucm_content
		-->
		<type name="article" title="Article" metadata="true" publish_options="true" permissions="true" table="#__ucm_content">

			<config>
				<!-- Configuration fields if need any -->
				<!--
					ok, looks bad!
					in 90% have no sense in UCM case, because almost any of this
					can be achieved by adding/removing the field in to related View
				-->
				<!-- Here the fields list for configuration -->
			</config>

			<layouts>
				<!-- Default layouts -->
				<layout name="form">
					<!-- Related fields list -->
					<!-- For Form -->
					<!--
						Here we define what a curent Content Type can have.
						As form it is Content Type, this layout is required and it need to be first.

						Here we describe the main fields for a current Content Type
					-->
					<field name="core_content_item_id" type="text"  class="readonly" label="JGLOBAL_FIELD_ID_LABEL"
						description ="JGLOBAL_FIELD_ID_DESC" size="10" default="0"
						readonly="true" locked="true" />

					<field name="core_title" type="text"  label="JGLOBAL_TITLE"
						description="JFIELD_TITLE_DESC" class="input-xlarge" size="30"
						required="true" labelclass="control-label" locked="true" />

					<field name="core_alias" type="text" label="JFIELD_ALIAS_LABEL"
						description="JFIELD_ALIAS_DESC" class="inputbox"
						size="45" labelclass="control-label" locked="true" />

					<field name="core_catid" type="categoryedit"
						label="JCATEGORY" description="JFIELD_CATEGORY_DESC"
						class="inputbox" required="true" locked="true" />

					<field name="tags" type="tag" label="JTAG" description="JTAG_DESC"
						class="inputbox span12 small" multiple="true" locked="true" />

					<field name="core_body" type="editor" class="inputbox"
						label="COM_CONTENT_FIELD_ARTICLETEXT_LABEL" description="COM_CONTENT_FIELD_ARTICLETEXT_DESC"
						filter="JComponentHelper::filterText" buttons="true" locked="true" />

					<!--
						What to do with the old fields for the images and the links ???
					-->

					<!--
					<field name="image" access="4"
						preview="300x150" previewscalle="crop"
						lightbox="1024x800" lightboxscalle="fit" />
					 -->

					<!--
						Would be cool to have a some separator for allow the multisteps form
						eg:
							part 1:
								fields list
							part 2:
								fields list
							part 3:
								fields list
					-->

				</layout>
				<layout name="intro">
					<!-- Related fields list -->
					<!--
						Each layout can contain also any fields from common form
						eg: metadata, publishoptions, permissions
					-->
					<field name="core_title" access="1"	/>

					<field name="created" format="%Y-%m-%d %H:%M:%S" access="1"
						label="COM_CONTENT_FIELD_CREATED_LABEL" />

					<field name="created_by" access="1"
						label="COM_CONTENT_FIELD_CREATED_BY_LABEL" />

					<field name="core_catid" access="1"	/>

					<field name="core_body" access="1"
						format="introtext" />

					<field name="tags" access="1" />
				</layout>
				<layout name="fullview">
					<!-- Related fields list -->
					<field name="core_title" access="1"	/>

					<field name="created" format="%Y-%m-%d %H:%M:%S" access="1"
						label="COM_CONTENT_FIELD_CREATED_LABEL" />

					<field name="created_by" access="1"
						label="COM_CONTENT_FIELD_CREATED_BY_LABEL" />

					<field name="core_catid" access="1"	/>
					<!--
					<field name="image" access="4"
						preview="300x150" previewscalle="crop" previewfilter="grayscale"
						lightbox="1024x800" lightboxscalle="fit" />
 					-->
					<field name="core_body" access="1"
						format="fulltext" />

					<field name="tags" access="1" />
				</layout>
				<layout name="feed">
					<!-- Maybe better make this layout not here -->
					<!-- Related fields list -->
					<field name="core_title" access="1"	/>

					<field name="created" format="%Y-%m-%d %H:%M:%S" access="1"
						label="COM_CONTENT_FIELD_CREATED_LABEL" />
					<!--
					<field name="image" access="1"
						preview="300x150" previewscalle="crop" previewfilter="grayscale"
						format="with link" />
					-->
					<field name="core_body" access="1"
						format="introtext" />
				</layout>

			</layouts>
		</type>
	</types>
	<tables>
		<!-- Table description -->
		<!-- Table for the fields that do not exist in common table -->
		<table name="#__content" key="id" > <!-- key - a primary key like: key1,key2,key3 -->
			<fields>
				<field type="int" lenght="10" name="id" default=""
					extra="NOT NULL AUTO_INCREMENT"
					comment="Primary key" />

				<field type="mediumtext" name="fulltext" default=""
					extra="NOT NULL"
					comment="Store Full Text" />
			</fields>
			<index>
				<!-- ??? -->
			</index>
			<foreign>
				<!-- ??? -->
			</foreign>
		    <unique>
				<!-- ??? -->
		    </unique>
		</table>
	</tables>
	<administrator>
		<!--
			Describe the table of content for display the items list
			eg. display the table with columns id/title/created/author
		-->
		<type name="article">
			<layout name="table" label="COM_CONTENT_ARTICLES_TITLE">
				<!-- Define the Fields used for build the table -->
				<column label="JGRID_HEADING_ID" class="hidden-phone">
					<field name="id" filter="true" sort="true" />
				</column>

				<column label="JSTATUS" class="hidden-phone">
					<field name="state" filter="true" sort="true" />
				</column>

				<column label="JGLOBAL_TITLE">
					<field name="title" filter="true" sort="true" />
					<field name="catid" filter="true" sort="true"
						label="JCATEGORY" />
				</column>

				<column label="JFIELD_ACCESS_LABEL" class="nowrap hidden-phone">
					<field name="access" filter="true" sort="true" />
				</column>

				<column label="JAUTHOR" class="nowrap hidden-phone">
					<field name="created_by" filter="true" sort="true" />
				</column>

				<column label="JGRID_HEADING_LANGUAGE" class="nowrap hidden-phone">
					<field name="language" filter="true" sort="true" />
				</column>

				<column label="JDATE" class="nowrap hidden-phone">
					<field name="created" filter="true" sort="true"
						format="%Y-%m-%d" />
				</column>

				<column label="JGLOBAL_HITS" class="nowrap hidden-phone">
					<field name="hits" filter="true" sort="true" />
				</column>
			</layout>
		</type>
	</administrator>
</ucm>
